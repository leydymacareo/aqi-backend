# ğŸŒ¬ï¸ AQI App - Backend

Este es el backend de la aplicaciÃ³n AQI Predictor. Se trata de una API REST desarrollada con FastAPI que recibe variables ambientales y demogrÃ¡ficas, y devuelve una predicciÃ³n sobre la calidad del aire en formato JSON. El modelo de predicciÃ³n ha sido entrenado previamente y se ejecuta en un servidor remoto.

---

## ğŸŒ Hosting

### ğŸ”§ Servidor
Alojado en DigitalOcean:

```
http://157.245.140.29:8080
```

ConexiÃ³n por SSH:

```bash
ssh -i digitalocean root@157.245.140.29
```

### ğŸ“‚ UbicaciÃ³n del proyecto

El backend estÃ¡ instalado en:

```
/opt/aqi-app
```

---

## ğŸš€ Inicio del servidor

Para ejecutar el servidor manualmente:

```bash
cd /opt/aqi-app
source .venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8080
```

Esto levanta el servicio en la IP pÃºblica y puerto 8080 para que sea accesible desde la app mÃ³vil o herramientas externas.

---

## ğŸ“Š Variables esperadas por el endpoint `/predict`

La API espera recibir un JSON con los siguientes campos:

| Campo                | Tipo   | DescripciÃ³n |
|----------------------|--------|-------------|
| temperatura          | float  | Temperatura ambiente en grados Celsius |
| humedad              | float  | Porcentaje de humedad relativa del aire |
| pmTotal              | float  | Materia particulada total en Âµg/mÂ³ |
| no2                  | float  | ConcentraciÃ³n de diÃ³xido de nitrÃ³geno (ppb) |
| so2                  | float  | ConcentraciÃ³n de diÃ³xido de azufre (ppb) |
| co                   | float  | ConcentraciÃ³n de monÃ³xido de carbono (ppm) |
| proximidad           | float  | Proximidad a zonas industriales (km) |
| densidadPoblacional  | float  | Densidad poblacional (personas por kmÂ²) |

---

## ğŸ“¬ Ejemplo de uso con curl

```bash
curl -X POST http://157.245.140.29:8080/predict \
     -H "Content-Type: application/json" \
     -d '{
           "temperatura": 25.5,
           "humedad": 60.0,
           "pmTotal": 45.0,
           "no2": 20.0,
           "so2": 15.0,
           "co": 0.8,
           "proximidad": 1.2,
           "densidadPoblacional": 3500.0
         }'
```

---

## âœ… Respuesta esperada

```json
{
  "prediccion": "Moderate"
}
```

Valores posibles para `"prediccion"`:

- `"Good"` â†’ Aire limpio y seguro
- `"Moderate"` â†’ Aceptable para la mayorÃ­a, pero puede afectar a personas sensibles
- `"Poor"` â†’ Calidad daÃ±ina para grupos sensibles
- `"Hazardous"` â†’ Calidad peligrosa para toda la poblaciÃ³n

---

## ğŸ“¦ Requisitos del proyecto

- Python 3.10+
- FastAPI
- Uvicorn
- Pydantic
- scikit-learn
- joblib

InstalaciÃ³n:

```bash
pip install -r requirements.txt
```

---

## ğŸ›  Estructura del proyecto

```
aqi-app/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py         # Archivo principal con el endpoint
â”‚   â”œâ”€â”€ model.joblib    # Modelo entrenado (machine learning)
â”‚   â””â”€â”€ ...
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸ¤ Enlace al Frontend

Puedes consultar el repositorio mÃ³vil desarrollado en Jetpack Compose aquÃ­:  
â¡ï¸ [AQI Predictor - App Android](https://github.com/tu-usuario/aqi-predictor)

---

Â¿Preguntas? Â¿Contribuciones? Â¡Bienvenidas!
